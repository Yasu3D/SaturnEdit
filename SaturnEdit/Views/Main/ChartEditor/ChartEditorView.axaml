<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:tabs="clr-namespace:SaturnEdit.Views.Main.ChartEditor.Tabs"
             mc:Ignorable="d"
             d:DesignWidth="800"
             d:DesignHeight="450"
             x:Class="SaturnEdit.Views.ChartEditor.ChartEditorView">
    <Grid RowDefinitions="40,1,*,79">
        
        <!-- Menu Bar Background -->
        <Rectangle Grid.Row="0" 
                   Fill="{DynamicResource BackgroundPrimary}"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch"
                   IsHitTestVisible="False"  />
        
        <Rectangle Grid.Row="0" 
                   Fill="{DynamicResource ChartEditorChromeGradient}"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch"
                   IsHitTestVisible="False"  />
        
        <!-- Separator -->
        <Rectangle Grid.Row="1" Fill="{DynamicResource SeparatorSecondary}"/>
        
        <!-- Content -->
        <Grid Grid.Row="2" 
              ColumnDefinitions="60,1, *">
            
            <tabs:NotePaletteView Grid.Column="0"/>
            
            <Rectangle Grid.Column="1" Fill="{DynamicResource SeparatorSecondary}"/>
            
            <DockControl Grid.Column="2"
                         x:Name="Dock"
                         InitializeLayout="True"
                         InitializeFactory="True">
                <DockControl.Factory>
                    <Factory />
                </DockControl.Factory>

                <RootDock x:Name="Root"
                          Id="Root"
                          IsCollapsable="False"
                          DefaultDockable="{Binding #MainLayout}">

                    <!-- Windows -->

                    <RootDock.Windows>
                        <!--<DockWindow x:Name="DockWindow" Id="DockWindow" X="281" Y="233" Width="250" Height="400" Topmost="True">
                        <RootDock ActiveDockable="{Binding #ToolDock}" Window="{Binding #DockWindow}">
                            <ToolDock x:Name="ToolDock">
                                <Tool x:Name="ToolWindow" Id="ToolWindow" Title="Tool Window" x:DataType="Tool">
                                    <TextBlock Text="{Binding Title}"/>
                                </Tool>
                            </ToolDock>
                        </RootDock>
                    </DockWindow>-->
                    </RootDock.Windows>

                    <ProportionalDock x:Name="MainLayout"
                                      Id="MainLayout"
                                      Orientation="Horizontal">

                        <!-- Left Pane -->

                        <ToolDock x:Name="LeftPane"
                                  Id="LeftPane"
                                  Proportion="0.25"
                                  Alignment="Left">
                            <Tool x:Name="LayerInspector"
                                  Id="LayerInspector"
                                  Title="Layer Inspector"
                                  x:DataType="Tool">
                                <tabs:InspectorView/>
                            </Tool>
                        </ToolDock>

                        <ProportionalDockSplitter x:Name="LeftSplitter"
                                                  Id="LeftSplitter" />

                        <!-- Top Pane -->

                        <ProportionalDock x:Name="TopPane"
                                          Id="TopPane"
                                          Orientation="Vertical">

                            <!-- Right Pane -->

                            <ProportionalDock x:Name="RightPane"
                                              Id="RightPane"
                                              Orientation="Horizontal">
                            
                                <!-- Properties Pane -->
                                <ToolDock x:Name="PropertiesPane"
                                          Id="PropertiesPane"
                                          Proportion="0.3"
                                          Alignment="Right">
                                    <Tool x:Name="ChartView2D"
                                          Id="ChartView2D"
                                          Title="Chart View 2D"
                                          x:DataType="Tool">
                                        <tabs:CursorView/>
                                    </Tool>
                                </ToolDock>

                            </ProportionalDock>

                            <ProportionalDockSplitter x:Name="BottomSplitter"
                                                      Id="BottomSplitter" />

                            <!-- Bottom Pane -->

                            <ToolDock x:Name="BottomPane"
                                      Id="BottomPane"
                                      Proportion="0.3" 
                                      MinHeight="362"
                                      Alignment="Bottom">
                                <Tool x:Name="Mixer"
                                      Id="Mixer"
                                      Title="Cursor"
                                      x:DataType="Tool">
                                    <tabs:ChartView3D/>
                                </Tool>
                            </ToolDock>

                        </ProportionalDock>

                    </ProportionalDock>
                </RootDock>

            </DockControl>
        </Grid>
        
        <tabs:PlaybackView Grid.Row="3"/>
        
    </Grid>
</UserControl>