<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:dmc="using:Dock.Model.Controls"
                    x:DataType="dmc:IToolDock"
                    x:CompileBindings="True">
    <Design.PreviewWith>
        <Border Padding="20">
            <ToolTabStrip>
                <ToolTabStripItem>Item 1</ToolTabStripItem>
                <ToolTabStripItem>Item 2</ToolTabStripItem>
                <ToolTabStripItem IsEnabled="False">Disabled</ToolTabStripItem>
            </ToolTabStrip>
        </Border>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type ToolTabStrip}"
                  TargetType="ToolTabStrip">

        <Setter Property="Background" Value="{DynamicResource BackgroundPrimary }" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="ClipToBounds" Value="False" />
        <Setter Property="ZIndex" Value="1" />
        
        <Setter Property="Template">
            <ControlTemplate>
                <Grid RowDefinitions="1, Auto" Name="PART_TabStrip">
                    <Rectangle Grid.Row="0"
                               Fill="{DynamicResource SeparatorPrimary}" />
                    
                    <DockPanel Grid.Row="1">
                        <Border Name="PART_Border"
                                Background="{TemplateBinding Background}"
                                DockPanel.Dock="Left">
                            <ItemsPresenter Name="PART_ItemsPresenter"
                                            ItemsPanel="{TemplateBinding ItemsPanel}" />
                        </Border>
                        <Border Name="PART_BorderFill"
                                Background="{TemplateBinding Background}" />
                    </DockPanel>
                </Grid>
            </ControlTemplate>
        </Setter>

        <Setter Property="ItemsPanel">
            <ItemsPanelTemplate>
                <StackPanel Orientation="Horizontal"
                            ClipToBounds="False" />
            </ItemsPanelTemplate>
        </Setter>

        <Style Selector="^:singleitem /template/ Grid#PART_TabStrip">
            <Setter Property="IsVisible" Value="False" />
        </Style>

    </ControlTheme>

</ResourceDictionary>