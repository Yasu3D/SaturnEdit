<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="clr-namespace:SaturnEdit.Controls"
             mc:Ignorable="d"
             d:DesignWidth="400"
             d:DesignHeight="700"
             Height="32"
             Width="32"
             x:Class="SaturnEdit.Controls.SaturnColorPicker"
             IsHitTestVisible="True">
    <Panel>
        <Border Name="BorderColorPreview"
                Background="#FFFFFFFF"
                CornerRadius="5"
                BorderBrush="{DynamicResource SeparatorPrimary}"
                BorderThickness="1" />

        <Border Name="BorderColorPlaceholder"
                IsVisible="False"
                Background="#707070"
                BorderBrush="{DynamicResource SeparatorPrimary}"
                BorderThickness="1"
                CornerRadius="5">
            <Border HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Background="#BBBBBB"
                    Margin="7,14"
                    CornerRadius="2" />
        </Border>

        <Button Classes="Themed Square Concave"
                Margin="1"
                Width="32"
                Height="32">
            <Button.Flyout>
                <Flyout PlacementAnchor="Bottom"
                        Placement="Top"
                        FlyoutPresenterClasses="ColorPicker"
                        VerticalOffset="-5"
                        Closed="FlyoutBase_OnClosed">
                    <Grid RowDefinitions="150,22"
                          Margin="3">
                        <controls:SkiaSharpCanvas Grid.Row="0"
                                                  Name="CanvasSaturationValue"
                                                  Width="240"
                                                  Height="150"
                                                  Background="Transparent"
                                                  RenderAction="CanvasSaturationValue_OnRenderAction"
                                                  PointerPressed="CanvasSaturationValue_OnPointerPressed"
                                                  PointerMoved="CanvasSaturationValue_OnPointerMoved" />

                        <controls:SkiaSharpCanvas Grid.Row="1"
                                                  Name="CanvasHue"
                                                  Width="240"
                                                  Height="22"
                                                  Background="Transparent"
                                                  VerticalAlignment="Bottom"
                                                  RenderAction="CanvasHue_OnRenderAction"
                                                  PointerPressed="CanvasHue_OnPointerPressed"
                                                  PointerMoved="CanvasHue_OnPointerMoved" />
                    </Grid>
                </Flyout>
            </Button.Flyout>
        </Button>
    </Panel>
</UserControl>